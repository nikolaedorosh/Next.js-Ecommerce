/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/products/categories";
exports.ids = ["pages/api/products/categories"];
exports.modules = {

/***/ "./models/Product.js":
/*!***************************!*\
  !*** ./models/Product.js ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst reviewSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  user: {\n    type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema.Types.ObjectId),\n    ref: 'User',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  name: {\n    type: String,\n    required: true\n  },\n  slug: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true,\n    default: 0\n  },\n  numReviews: {\n    type: Number,\n    required: true,\n    default: 0\n  },\n  countInStock: {\n    type: Number,\n    required: true,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  reviews: [reviewSchema],\n  featuredImage: {\n    type: String\n  },\n  isFeatured: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nconst Product = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Product) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Product', productSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Product);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZC1lY29tbWVyY2UvLi9tb2RlbHMvUHJvZHVjdC5qcz8xMDEyIl0sIm5hbWVzIjpbInJldmlld1NjaGVtYSIsIm1vbmdvb3NlIiwidXNlciIsInR5cGUiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kdWN0U2NoZW1hIiwic2x1ZyIsInVuaXF1ZSIsImNhdGVnb3J5IiwiaW1hZ2UiLCJwcmljZSIsImJyYW5kIiwibnVtUmV2aWV3cyIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwicmV2aWV3cyIsImZlYXR1cmVkSW1hZ2UiLCJpc0ZlYXR1cmVkIiwiQm9vbGVhbiIsIlByb2R1Y3QiXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBRUEsTUFBTUEsWUFBWSxHQUFHLElBQUlDLHdEQUFKLENBQ25CO0FBQ0VDLE1BQUksRUFBRTtBQUFFQyxRQUFJLEVBQUVGLHVFQUFSO0FBQXdDRyxPQUFHLEVBQUUsTUFBN0M7QUFBcURDLFlBQVEsRUFBRTtBQUEvRCxHQURSO0FBRUVDLE1BQUksRUFBRTtBQUFFSCxRQUFJLEVBQUVJLE1BQVI7QUFBZ0JGLFlBQVEsRUFBRTtBQUExQixHQUZSO0FBR0VHLFFBQU0sRUFBRTtBQUFFTCxRQUFJLEVBQUVNLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUhWO0FBSUVDLFNBQU8sRUFBRTtBQUFFUixRQUFJLEVBQUVJLE1BQVI7QUFBZ0JGLFlBQVEsRUFBRTtBQUExQjtBQUpYLENBRG1CLEVBT25CO0FBQ0VPLFlBQVUsRUFBRTtBQURkLENBUG1CLENBQXJCO0FBWUEsTUFBTUMsYUFBYSxHQUFHLElBQUlaLHdEQUFKLENBQ3BCO0FBQ0VLLE1BQUksRUFBRTtBQUFFSCxRQUFJLEVBQUVJLE1BQVI7QUFBZ0JGLFlBQVEsRUFBRTtBQUExQixHQURSO0FBRUVTLE1BQUksRUFBRTtBQUFFWCxRQUFJLEVBQUVJLE1BQVI7QUFBZ0JGLFlBQVEsRUFBRSxJQUExQjtBQUFnQ1UsVUFBTSxFQUFFO0FBQXhDLEdBRlI7QUFHRUMsVUFBUSxFQUFFO0FBQUViLFFBQUksRUFBRUksTUFBUjtBQUFnQkYsWUFBUSxFQUFFO0FBQTFCLEdBSFo7QUFJRVksT0FBSyxFQUFFO0FBQUVkLFFBQUksRUFBRUksTUFBUjtBQUFnQkYsWUFBUSxFQUFFO0FBQTFCLEdBSlQ7QUFLRWEsT0FBSyxFQUFFO0FBQUVmLFFBQUksRUFBRU0sTUFBUjtBQUFnQkosWUFBUSxFQUFFO0FBQTFCLEdBTFQ7QUFNRWMsT0FBSyxFQUFFO0FBQUVoQixRQUFJLEVBQUVJLE1BQVI7QUFBZ0JGLFlBQVEsRUFBRTtBQUExQixHQU5UO0FBT0VHLFFBQU0sRUFBRTtBQUFFTCxRQUFJLEVBQUVNLE1BQVI7QUFBZ0JKLFlBQVEsRUFBRSxJQUExQjtBQUFnQ0ssV0FBTyxFQUFFO0FBQXpDLEdBUFY7QUFRRVUsWUFBVSxFQUFFO0FBQUVqQixRQUFJLEVBQUVNLE1BQVI7QUFBZ0JKLFlBQVEsRUFBRSxJQUExQjtBQUFnQ0ssV0FBTyxFQUFFO0FBQXpDLEdBUmQ7QUFTRVcsY0FBWSxFQUFFO0FBQUVsQixRQUFJLEVBQUVNLE1BQVI7QUFBZ0JKLFlBQVEsRUFBRSxJQUExQjtBQUFnQ0ssV0FBTyxFQUFFO0FBQXpDLEdBVGhCO0FBVUVZLGFBQVcsRUFBRTtBQUFFbkIsUUFBSSxFQUFFSSxNQUFSO0FBQWdCRixZQUFRLEVBQUU7QUFBMUIsR0FWZjtBQVdFa0IsU0FBTyxFQUFFLENBQUN2QixZQUFELENBWFg7QUFZRXdCLGVBQWEsRUFBRTtBQUFFckIsUUFBSSxFQUFFSTtBQUFSLEdBWmpCO0FBYUVrQixZQUFVLEVBQUU7QUFBRXRCLFFBQUksRUFBRXVCLE9BQVI7QUFBaUJyQixZQUFRLEVBQUUsSUFBM0I7QUFBaUNLLFdBQU8sRUFBRTtBQUExQztBQWJkLENBRG9CLEVBZ0JwQjtBQUNFRSxZQUFVLEVBQUU7QUFEZCxDQWhCb0IsQ0FBdEI7QUFxQkEsTUFBTWUsT0FBTyxHQUNYMUIsZ0VBQUEsSUFBMkJBLHFEQUFBLENBQWUsU0FBZixFQUEwQlksYUFBMUIsQ0FEN0I7QUFFQSwrREFBZWMsT0FBZiIsImZpbGUiOiIuL21vZGVscy9Qcm9kdWN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgcmV2aWV3U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIHVzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXG4gICAgY29tbWVudDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIH0sXG4gIHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxuICB9XG4pO1xuXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNsdWc6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgY2F0ZWdvcnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGltYWdlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBwcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiAwIH0sXG4gICAgbnVtUmV2aWV3czogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiAwIH0sXG4gICAgY291bnRJblN0b2NrOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IDAgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmV2aWV3czogW3Jldmlld1NjaGVtYV0sXG4gICAgZmVhdHVyZWRJbWFnZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICBpc0ZlYXR1cmVkOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcblxuY29uc3QgUHJvZHVjdCA9XG4gIG1vbmdvb3NlLm1vZGVscy5Qcm9kdWN0IHx8IG1vbmdvb3NlLm1vZGVsKCdQcm9kdWN0JywgcHJvZHVjdFNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./models/Product.js\n");

/***/ }),

/***/ "./pages/api/products/categories.js":
/*!******************************************!*\
  !*** ./pages/api/products/categories.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var next_connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-connect */ \"next-connect\");\n/* harmony import */ var next_connect__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_connect__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_Product__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/Product */ \"./models/Product.js\");\n/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/db */ \"./utils/db.js\");\n\n\n\nconst handler = next_connect__WEBPACK_IMPORTED_MODULE_0___default()();\nhandler.get(async (req, res) => {\n  await _utils_db__WEBPACK_IMPORTED_MODULE_2__.default.connect();\n  const categories = await _models_Product__WEBPACK_IMPORTED_MODULE_1__.default.find().distinct('category');\n  await _utils_db__WEBPACK_IMPORTED_MODULE_2__.default.disconnect();\n  res.send(categories);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (handler);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZC1lY29tbWVyY2UvLi9wYWdlcy9hcGkvcHJvZHVjdHMvY2F0ZWdvcmllcy5qcz84YzlkIl0sIm5hbWVzIjpbImhhbmRsZXIiLCJuYyIsImdldCIsInJlcSIsInJlcyIsImRiIiwiY2F0ZWdvcmllcyIsIlByb2R1Y3QiLCJkaXN0aW5jdCIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxtREFBRSxFQUFsQjtBQUVBRCxPQUFPLENBQUNFLEdBQVIsQ0FBWSxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDOUIsUUFBTUMsc0RBQUEsRUFBTjtBQUNBLFFBQU1DLFVBQVUsR0FBRyxNQUFNQyx5REFBQSxHQUFlQyxRQUFmLENBQXdCLFVBQXhCLENBQXpCO0FBQ0EsUUFBTUgseURBQUEsRUFBTjtBQUNBRCxLQUFHLENBQUNLLElBQUosQ0FBU0gsVUFBVDtBQUNELENBTEQ7QUFPQSwrREFBZU4sT0FBZiIsImZpbGUiOiIuL3BhZ2VzL2FwaS9wcm9kdWN0cy9jYXRlZ29yaWVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5jIGZyb20gJ25leHQtY29ubmVjdCc7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi8uLi8uLi9tb2RlbHMvUHJvZHVjdCc7XG5pbXBvcnQgZGIgZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGInO1xuXG5jb25zdCBoYW5kbGVyID0gbmMoKTtcblxuaGFuZGxlci5nZXQoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGF3YWl0IGRiLmNvbm5lY3QoKTtcbiAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IFByb2R1Y3QuZmluZCgpLmRpc3RpbmN0KCdjYXRlZ29yeScpO1xuICBhd2FpdCBkYi5kaXNjb25uZWN0KCk7XG4gIHJlcy5zZW5kKGNhdGVnb3JpZXMpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/products/categories.js\n");

/***/ }),

/***/ "./utils/db.js":
/*!*********************!*\
  !*** ./utils/db.js ***!
  \*********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst connection = {};\n\nasync function connect() {\n  if (connection.isConnected) {\n    console.log('already connected');\n    return;\n  }\n\n  if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections.length) > 0) {\n    connection.isConnected = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections[0].readyState);\n\n    if (connection.isConnected === 1) {\n      console.log('use previous connection');\n      return;\n    }\n\n    await mongoose__WEBPACK_IMPORTED_MODULE_0___default().disconnect();\n  }\n\n  const db = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGODB_URI, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n    useCreateIndex: true\n  });\n  console.log('new connection');\n  connection.isConnected = db.connections[0].readyState;\n}\n\nasync function disconnect() {\n  if (connection.isConnected) {\n    if (false) {} else {\n      console.log('not disconnected');\n    }\n  }\n}\n\nfunction convertDocToObj(doc) {\n  doc._id = doc._id.toString();\n  doc.createdAt = doc.createdAt.toString();\n  doc.updatedAt = doc.updatedAt.toString();\n  return doc;\n}\n\nconst db = {\n  connect,\n  disconnect,\n  convertDocToObj\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (db);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZC1lY29tbWVyY2UvLi91dGlscy9kYi5qcz8wYzMxIl0sIm5hbWVzIjpbImNvbm5lY3Rpb24iLCJjb25uZWN0IiwiaXNDb25uZWN0ZWQiLCJjb25zb2xlIiwibG9nIiwibW9uZ29vc2UiLCJkYiIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwiY29ubmVjdGlvbnMiLCJyZWFkeVN0YXRlIiwiZGlzY29ubmVjdCIsImNvbnZlcnREb2NUb09iaiIsImRvYyIsIl9pZCIsInRvU3RyaW5nIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Il0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUVBLE1BQU1BLFVBQVUsR0FBRyxFQUFuQjs7QUFFQSxlQUFlQyxPQUFmLEdBQXlCO0FBQ3ZCLE1BQUlELFVBQVUsQ0FBQ0UsV0FBZixFQUE0QjtBQUMxQkMsV0FBTyxDQUFDQyxHQUFSLENBQVksbUJBQVo7QUFDQTtBQUNEOztBQUNELE1BQUlDLG9FQUFBLEdBQThCLENBQWxDLEVBQXFDO0FBQ25DTCxjQUFVLENBQUNFLFdBQVgsR0FBeUJHLDJFQUF6Qjs7QUFDQSxRQUFJTCxVQUFVLENBQUNFLFdBQVgsS0FBMkIsQ0FBL0IsRUFBa0M7QUFDaENDLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLHlCQUFaO0FBQ0E7QUFDRDs7QUFDRCxVQUFNQywwREFBQSxFQUFOO0FBQ0Q7O0FBQ0QsUUFBTUMsRUFBRSxHQUFHLE1BQU1ELHVEQUFBLENBQWlCRSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBN0IsRUFBMEM7QUFDekRDLG1CQUFlLEVBQUUsSUFEd0M7QUFFekRDLHNCQUFrQixFQUFFLElBRnFDO0FBR3pEQyxrQkFBYyxFQUFFO0FBSHlDLEdBQTFDLENBQWpCO0FBS0FULFNBQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaO0FBQ0FKLFlBQVUsQ0FBQ0UsV0FBWCxHQUF5QkksRUFBRSxDQUFDTyxXQUFILENBQWUsQ0FBZixFQUFrQkMsVUFBM0M7QUFDRDs7QUFFRCxlQUFlQyxVQUFmLEdBQTRCO0FBQzFCLE1BQUlmLFVBQVUsQ0FBQ0UsV0FBZixFQUE0QjtBQUMxQixlQUEyQyxFQUEzQyxNQUdPO0FBQ0xDLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFNBQVNZLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCO0FBQzVCQSxLQUFHLENBQUNDLEdBQUosR0FBVUQsR0FBRyxDQUFDQyxHQUFKLENBQVFDLFFBQVIsRUFBVjtBQUNBRixLQUFHLENBQUNHLFNBQUosR0FBZ0JILEdBQUcsQ0FBQ0csU0FBSixDQUFjRCxRQUFkLEVBQWhCO0FBQ0FGLEtBQUcsQ0FBQ0ksU0FBSixHQUFnQkosR0FBRyxDQUFDSSxTQUFKLENBQWNGLFFBQWQsRUFBaEI7QUFDQSxTQUFPRixHQUFQO0FBQ0Q7O0FBRUQsTUFBTVgsRUFBRSxHQUFHO0FBQUVMLFNBQUY7QUFBV2MsWUFBWDtBQUF1QkM7QUFBdkIsQ0FBWDtBQUNBLCtEQUFlVixFQUFmIiwiZmlsZSI6Ii4vdXRpbHMvZGIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBjb25uZWN0aW9uID0ge307XG5cbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gIGlmIChjb25uZWN0aW9uLmlzQ29ubmVjdGVkKSB7XG4gICAgY29uc29sZS5sb2coJ2FscmVhZHkgY29ubmVjdGVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChtb25nb29zZS5jb25uZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgY29ubmVjdGlvbi5pc0Nvbm5lY3RlZCA9IG1vbmdvb3NlLmNvbm5lY3Rpb25zWzBdLnJlYWR5U3RhdGU7XG4gICAgaWYgKGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQgPT09IDEpIHtcbiAgICAgIGNvbnNvbGUubG9nKCd1c2UgcHJldmlvdXMgY29ubmVjdGlvbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBtb25nb29zZS5kaXNjb25uZWN0KCk7XG4gIH1cbiAgY29uc3QgZGIgPSBhd2FpdCBtb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJLCB7XG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKCduZXcgY29ubmVjdGlvbicpO1xuICBjb25uZWN0aW9uLmlzQ29ubmVjdGVkID0gZGIuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgaWYgKGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgYXdhaXQgbW9uZ29vc2UuZGlzY29ubmVjdCgpO1xuICAgICAgY29ubmVjdGlvbi5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnbm90IGRpc2Nvbm5lY3RlZCcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0RG9jVG9PYmooZG9jKSB7XG4gIGRvYy5faWQgPSBkb2MuX2lkLnRvU3RyaW5nKCk7XG4gIGRvYy5jcmVhdGVkQXQgPSBkb2MuY3JlYXRlZEF0LnRvU3RyaW5nKCk7XG4gIGRvYy51cGRhdGVkQXQgPSBkb2MudXBkYXRlZEF0LnRvU3RyaW5nKCk7XG4gIHJldHVybiBkb2M7XG59XG5cbmNvbnN0IGRiID0geyBjb25uZWN0LCBkaXNjb25uZWN0LCBjb252ZXJ0RG9jVG9PYmogfTtcbmV4cG9ydCBkZWZhdWx0IGRiO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/db.js\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ (function(module) {

"use strict";
module.exports = require("mongoose");;

/***/ }),

/***/ "next-connect":
/*!*******************************!*\
  !*** external "next-connect" ***!
  \*******************************/
/***/ (function(module) {

"use strict";
module.exports = require("next-connect");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/products/categories.js"));
module.exports = __webpack_exports__;

})();